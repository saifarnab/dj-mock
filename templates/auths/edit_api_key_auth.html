{% extends 'base.html' %}
{% block content %}
{% load static %}


<div class="row">
    <div class="col-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                {% include 'includes/page_header.html' with name="Edit API Key Auth" button_url="api_key_auth_list" %}
                <p class="card-description"></p>
                <form class="forms-sample" action="{% url 'edit_api_key_auth' authID %}" method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="serviceName">Service</label>
                        <input type="text" class="form-control" id="serviceName" name="serviceName"
                               minlength="3" value="{{ serviceName }}" required disabled>
                    </div>
                    <div class="form-group">
                        <label for="keyName">key Name</label>
                        <input type="text" class="form-control" id="keyName" name="keyName" placeholder="key Name"
                               minlength="3" value="{{ keyName}}" required>
                    </div>
                    <div class="form-group">
                        <label for="keyValue">key Value</label>
                        <input type="text" class="form-control" id="keyValue" name="keyValue" placeholder="key Value"
                               minlength="3" value="{{ keyValue }}" required>
                    </div>
                    <div class="form-group">
                        <label for="addedTo">Added To</label>
                        <select class="form-select" id="addedTo" name="addedTo">
                            <option value="header" {% if addedTo == 'header' %}selected {% endif %}>Header</option>
                            <option value="query_params" {% if addedTo == 'query_params' %}selected {% endif %}>Query Params</option>
                            <option value="body" {% if addedTo == 'body' %}selected {% endif %}>Body</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="unAuthStatus">Unauthorized HTTP Status</label>
                        <select class="form-select" id="unAuthStatus" name="unAuthStatus" required>
                            <option value="400" {% if unAuthStatus == '400' %}selected {% endif %}>400</option>
                            <option value="401" {% if unAuthStatus == '401' %}selected {% endif %}>401</option>
                            <option value="402" {% if unAuthStatus == '402' %}selected {% endif %}>402</option>
                            <option value="403" {% if unAuthStatus == '403' %}selected {% endif %}>403</option>
                            <option value="500" {% if unAuthStatus == '500' %}selected {% endif %}>500</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="unAuthRes">Unauthorized Response</label>
                        <textarea class="form-control" id="unAuthRes" name="unAuthRes" rows="10"
                                  placeholder="Enter Unauthorized Response" required>{{unAuthRes}}</textarea>
                    </div>
                    <button type="submit" class="btn btn-gradient-primary me-2">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>


{% include 'includes/notify_modal.html' with name=messages %}

{% endblock %}
